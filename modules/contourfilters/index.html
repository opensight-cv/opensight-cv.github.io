



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Contourfilters - OpenSight</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#anglefilter" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="OpenSight" aria-label="OpenSight" class="md-header-nav__button md-logo">
          
            <i class="md-icon">remove_red_eye</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              OpenSight
            </span>
            <span class="md-header-nav__topic">
              
                Contourfilters
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/opensight-cv/opensight/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    opensight-cv/opensight
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="OpenSight" class="md-nav__button md-logo">
      
        <i class="md-icon">remove_red_eye</i>
      
    </a>
    OpenSight
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/opensight-cv/opensight/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    opensight-cv/opensight
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Quick Start
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Quick Start
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../quickstart/hardware/" title="Hardware" class="md-nav__link">
      Hardware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../quickstart/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../quickstart/upgrading/" title="Upgrading" class="md-nav__link">
      Upgrading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../quickstart/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../contours/" title="Contours" class="md-nav__link">
      Contours
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../videoio/" title="Video IO" class="md-nav__link">
      Video IO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../color/" title="Color Operations" class="md-nav__link">
      Color Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mask/" title="Mask Operations" class="md-nav__link">
      Mask Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../draw/" title="Drawing Operations" class="md-nav__link">
      Drawing Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nt/" title="NetworkTables" class="md-nav__link">
      NetworkTables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Module Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Module Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../module-dev/intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../module-dev/basic-template/" title="Basic Template" class="md-nav__link">
      Basic Template
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../module-dev/structure/" title="Module Structure" class="md-nav__link">
      Module Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../module-dev/glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../roadmap/" title="Roadmap and Contributing" class="md-nav__link">
      Roadmap and Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../planned/" title="Planned Pages" class="md-nav__link">
      Planned Pages
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#anglefilter" class="md-nav__link">
    AngleFilter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#areafilter" class="md-nav__link">
    AreaFilter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aspectratiofilter" class="md-nav__link">
    AspectRatioFilter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boundingrectfilter-minrectfilter" class="md-nav__link">
    BoundingRectFilter &amp; MinRectFilter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#orientationfilter" class="md-nav__link">
    OrientationFilter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specklefilter" class="md-nav__link">
    SpeckleFilter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sort" class="md-nav__link">
    Sort
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensight-cv/docs/edit/master/docs/modules/contourfilters.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Contourfilters</h1>
                
                <p>The Contour Filter module contains nodes used to filter out unwanted contours found by FindContours. These nodes can be found under the opsi-contour-filter-ops tab.</p>
<p><img alt="Contour Filters Module Add Nodes Image" src="../../assets/images/modules/contour_filters/module_contour_filters.png" /></p>
<p>Typically, you will want to use a chain of contour filters ending with a Sort node like this:</p>
<p><img alt="AngleFilter Node Image" src="../../assets/images/modules/contour_filters/contour_filters_example.png" /></p>
<h2 id="anglefilter">AngleFilter<a class="headerlink" href="#anglefilter" title="Permanent link">&para;</a></h2>
<p><img alt="AngleFilter Node Image" src="../../assets/images/modules/contour_filters/node_angle_filter.png" /></p>
<p>Filters contours based on the area of their minimum area bounding rectangle. Any contour whose minimum area rectangle is not within the range of the <code class="codehilite"><span class="err">angle</span></code> parameter will be filtered out. An angle of zero means that the top/bottom side of the rectangle will be horizontal. Since this node makes no distinction between horizontal and vertical rectangles, it is best to use it in conjuction with the OrientationFilter node.</p>
<h2 id="areafilter">AreaFilter<a class="headerlink" href="#areafilter" title="Permanent link">&para;</a></h2>
<p><img alt="AreaFilter Node Image" src="../../assets/images/modules/contour_filters/node_area_filter.png" /></p>
<p>Filters contours based on the percentage of the area of the image they cover. Any contour whose area as a percentage of the image is not between <code class="codehilite"><span class="err">min_area_pct</span></code> and <code class="codehilite"><span class="err">max_area_pct</span></code> will be filtered out. Since this node uses area as a percentage of the image, it should act the same regardless of image resolution.</p>
<h2 id="aspectratiofilter">AspectRatioFilter<a class="headerlink" href="#aspectratiofilter" title="Permanent link">&para;</a></h2>
<p><img alt="AspectRatioFilter Node Image" src="../../assets/images/modules/contour_filters/node_aspect_ratio_filter.png" /></p>
<p>Filters contours based on their aspect ratio. The aspect ratio of a contour is defined as the ratio between the length of the longest and shortest side of its minimum area rectangle. Any contour whose aspect ratio is not between <code class="codehilite"><span class="err">aspect_ratio_min</span></code> and <code class="codehilite"><span class="err">aspect_ratio_max</span></code> will be filtered out.</p>
<h2 id="boundingrectfilter-minrectfilter">BoundingRectFilter &amp; MinRectFilter<a class="headerlink" href="#boundingrectfilter-minrectfilter" title="Permanent link">&para;</a></h2>
<p><img alt="BoundingRectFilter Node Image" src="../../assets/images/modules/contour_filters/node_bounding_rect_filter.png" />
<img alt="MinRectFilter Node Image" src="../../assets/images/modules/contour_filters/node_min_rect_filter.png" /></p>
<p>Filters contours based on how close to a rectangle their shape is. This is defined by the percentage of their bounding rectangle they cover. Any contour whose area as a percentage of the area of its bounding rectangle is not within the given range will be filtered out. In the case of BoundingRectFilter, the countours' non-rotated bounding rectangle is used, and in the case of MinRectFilter, their rotated minimum area rectangle is used.</p>
<h2 id="orientationfilter">OrientationFilter<a class="headerlink" href="#orientationfilter" title="Permanent link">&para;</a></h2>
<p><img alt="OrientationFilter Node Image" src="../../assets/images/modules/contour_filters/node_orientation_filter.png" /></p>
<p>Filters contours based on their orientation. Contours that are shorter than they are wide are considered horizontal, and contours that are taller than they are wide are considered vertical. Only contours matching the <code class="codehilite"><span class="err">orientation</span></code> setting will be kept.</p>
<h2 id="specklefilter">SpeckleFilter<a class="headerlink" href="#specklefilter" title="Permanent link">&para;</a></h2>
<p><img alt="SpeckleFilter Node Image" src="../../assets/images/modules/contour_filters/node_speckle_filter.png" /></p>
<p>Filters out contours that are much smaller than the largest contour. Any contour whose area is less than <code class="codehilite"><span class="err">min_relative_area</span></code>% of the largest contour's area is filtered out. This is useful when there are multiple targets that are close to the same size.</p>
<h2 id="sort">Sort<a class="headerlink" href="#sort" title="Permanent link">&para;</a></h2>
<p><img alt="Sort Node Image" src="../../assets/images/modules/contour_filters/node_sort.png" /></p>
<p>The sort node orders the contours by either their area or their location in the image and optionally keeps the top contour or the top several contours in the sorted list.</p>
<p>The contours are ordered by the criteria selected for the <code class="codehilite"><span class="err">by</span></code> parameter. <code class="codehilite"><span class="err">Top</span></code>, <code class="codehilite"><span class="err">Bottom</span></code>, <code class="codehilite"><span class="err">Left</span></code>, <code class="codehilite"><span class="err">Right</span></code>, and <code class="codehilite"><span class="err">Center</span></code> sort the contours based on their position in the image. <code class="codehilite"><span class="err">Largest</span></code> and <code class="codehilite"><span class="err">Smallest</span></code> sort the contours based on their area.</p>
<p>The <code class="codehilite"><span class="err">keep</span></code> parameter determines how many contours are kept. If <code class="codehilite"><span class="err">keep</span></code> is set to <code class="codehilite"><span class="err">One</span></code>, only the top contour in the sorted list is kept. If <code class="codehilite"><span class="err">keep</span></code> is set to <code class="codehilite"><span class="err">Number</span></code>, the top <code class="codehilite"><span class="err">keep_amount</span></code> of contours are kept. If <code class="codehilite"><span class="err">keep</span></code> is set to <code class="codehilite"><span class="err">All</span></code>, all contours are kept, but they are still sorted. <code class="codehilite"><span class="err">keep_amount</span></code> parameter is only used when <code class="codehilite"><span class="err">keep</span></code> is set to <code class="codehilite"><span class="err">Number</span></code>.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019. MIT License
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/opensight-cv" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
    
  </body>
</html>